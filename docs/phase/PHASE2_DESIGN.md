# Phase 2: 소용량 페이로드 (1KB, 10KB) 성능 비교

## 목적

페이로드가 작아지면 HTTP 헤더 오버헤드가 상대적으로 커진다.  
이 조건에서 gRPC가 HTTP보다 유리해지는지 검증한다.

## 가설

> "1KB 페이로드에서는 HTTP 헤더(~400B)가 페이로드의 40%를 차지하여  
> gRPC의 바이너리 효율이 발휘될 것이다"

## 오버헤드 비교

| 페이로드 | HTTP 헤더 | HTTP 오버헤드 | gRPC 프레이밍 | gRPC 오버헤드 |
|---------|----------|--------------|--------------|--------------|
| 1KB | ~400B | **~40%** | ~50B | ~5% |
| 10KB | ~400B | ~4% | ~50B | ~0.5% |
| 1MB | ~400B | ~0.04% | ~50B | ~0.005% |

## 테스트 조건

| 항목 | 값 |
|------|-----|
| 페이로드 크기 | 1KB, 10KB |
| 동시 사용자 (VU) | 10 |
| 테스트 시간 | 30초 |

## 예상 결과

**1KB:**
1. gRPC/Unary - 헤더 오버헤드 최소
2. HTTP/Binary - 텍스트 헤더 부담
3. gRPC/Stream - 스트리밍 불필요
4. HTTP/JSON - Base64 + 헤더 이중고

**10KB:**
- gRPC/Unary ≈ HTTP/Binary (오버헤드 차이 감소)

## 실행 방법

```bash
cd scripts
./run-phase2.sh 1kb
./run-phase2.sh 10kb
```

## 상태

🔄 **진행 예정**